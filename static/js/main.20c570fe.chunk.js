(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo.aa08fedf.svg"},24:function(e,t,a){e.exports=a(55)},29:function(e,t,a){},52:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),o=a.n(i),l=(a(29),a(2)),s=a(3),c=a(5),u=a(4),p=a(6),m=a(8),h=a.n(m),d=a(58),v=a(57);function g(){return r.a.createElement("h1",null,"Page is Loading...")}var b=a(56),f=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.indexOf("-"),t=this.props.location.pathname.indexOf("-",e+1),a=this.props.location.pathname.substring(19,t);this.props.onMount(a)}},{key:"componentDidUpdate",value:function(e){var t=this.props.location.pathname.indexOf("-"),a=this.props.location.pathname.indexOf("-",t+1),n=this.props.location.pathname.substring(19,a);e.location.pathname.substring(19,a)!==n&&this.props.onMount(n),window.scrollTo(0,0)}},{key:"render",value:function(){if(null===this.props.bioData.castName||void 0===this.props.filmography)return r.a.createElement(g,null);var e=this.props.filmography.map(function(e,t){return r.a.createElement(b.a,{to:"/movie-search/movie/".concat(e.id),key:t},r.a.createElement("div",null,r.a.createElement("div",null,null===e.poster_path?r.a.createElement("img",{src:"https://secure.hmepowerweb.com/Resources/Images/NoImageAvailableLarge.jpg",alt:"no poster found"}):r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w1280/".concat(e.poster_path),alt:e.original_title})),r.a.createElement("h4",null,e.original_title),r.a.createElement("h5",null,e.release_date.substring(0,4))))});return r.a.createElement("div",null,r.a.createElement("h1",null,this.props.bioData.castName),r.a.createElement("p",null,this.props.bioData.birthday),r.a.createElement("p",null,this.props.bioData.deathday),r.a.createElement("p",null,this.props.bioData.bio),r.a.createElement("div",null,null===this.props.bioData.castPhoto_path?r.a.createElement("img",{src:"https://secure.hmepowerweb.com/Resources/Images/NoImageAvailableLarge.jpg",alt:"no poster found"}):r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w1280/".concat(this.props.bioData.castPhoto_path),alt:this.props.bioData.name})),e)}}]),t}(n.Component),E=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.indexOf("-"),t=this.props.location.pathname.indexOf("-",e+1),a=this.props.location.pathname.substring(20,t);this.props.onMount(a)}},{key:"componentDidUpdate",value:function(e){var t=this.props.location.pathname.indexOf("-"),a=this.props.location.pathname.indexOf("-",t+1),n=e.location.pathname.substring(20,a),r=this.props.location.pathname.substring(20,a);n!==r&&this.props.onMount(r)}},{key:"render",value:function(){if(0===this.props.numberOfResults)return r.a.createElement(g,null);var e=this.props.searchResults.map(function(e,t){return r.a.createElement(b.a,{to:"/movie-search/movie/".concat(e.id),key:t},r.a.createElement("div",null,r.a.createElement("div",null,null===e.poster_path?r.a.createElement("img",{src:"https://secure.hmepowerweb.com/Resources/Images/NoImageAvailableLarge.jpg",alt:"no poster found"}):r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w1280/".concat(e.poster_path),alt:e.original_title})),r.a.createElement("h4",null,e.original_title),r.a.createElement("h5",null,e.release_date.substring(0,4))))});return r.a.createElement("section",{id:"results"},r.a.createElement("p",null,"Your search returned ".concat(this.props.numberOfResults," results.")),e)}}]),t}(n.Component),y=a(22),O=a.n(y),_=(a(52),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){if(e.preventDefault(),""===this.input.value)this.props.history.push("/searcherror");else{if(this.props.onSearch){var t=this.input.value;this.props.onSearch(t)}this.props.history.push("/movie-search/results"),this.input.value="",this.input.focus()}}},{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:"App-header"},r.a.createElement(b.a,{to:"/movie-search"},r.a.createElement("img",{src:O.a,className:"App-logo",alt:"logo"})),r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("input",{type:"text",name:"userInput",ref:function(t){return e.input=t}}),r.a.createElement("button",null,"Search")))}}]),t}(n.Component)),j=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data,t="https://image.tmdb.org/t/p/w1280/".concat(e.poster_path),a="".concat(e.title," poster");return r.a.createElement("div",null,r.a.createElement("h1",null,e.title),r.a.createElement("h2",null,e.tagline),r.a.createElement("img",{src:t,alt:a}),r.a.createElement("p",null,"Budget: $",e.budget.toLocaleString()),r.a.createElement("p",null,"Revenue: $",e.revenue.toLocaleString()),r.a.createElement("p",null,"Plot: ",e.overview),r.a.createElement("div",null,"Genres: ",e.genres.map(function(e,t){return r.a.createElement(b.a,{key:t,to:"/movie-search/genre/".concat(e.id,"-").concat(e.name)},e.name)})),r.a.createElement("p",null,"Year released: ",e.release_date.substring(0,4)),r.a.createElement("p",null,"Runtime: ",e.runtime," minutes"))}}]),t}(n.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.similarMovieData.map(function(e,t){return r.a.createElement(b.a,{to:"/movie-search/movie/".concat(e.id),key:t},r.a.createElement("li",null,e.original_title," (",e.release_date.substring(0,4),")"))});return r.a.createElement("ul",null,e)}}]),t}(n.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.castData.map(function(e,t){return r.a.createElement("li",{key:t},e.character,": ",r.a.createElement(b.a,{to:"/movie-search/cast/".concat(e.id,"-").concat(e.name)},e.name))});return r.a.createElement("ul",null,e)}}]),t}(n.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.videoData.map(function(e,t){var a="https://www.youtube.com/embed/".concat(e.key);return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.name),r.a.createElement("iframe",{title:e.name,id:"ytplayer",type:"text/html",width:"640",height:"360",src:a,frameBorder:"0"}))});return r.a.createElement("ul",null,e)}}]),t}(n.Component),S=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.slice(20);this.props.onMount(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.location.pathname.slice(20);e.location.pathname.slice(20)!==t&&this.props.onMount(t),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props.data,t=this.props.data.cast,a=this.props.data.similarMovies,n=this.props.data.videos;return e.title?r.a.createElement("div",null,r.a.createElement(j,{data:e}),r.a.createElement(w,{castData:t}),r.a.createElement(k,{similarMovieData:a}),r.a.createElement(R,{videoData:n})):r.a.createElement(g,null)}}]),t}(n.Component);var M=function(){return r.a.createElement("p",null,"Please enter a search term.")},D=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(0===this.props.numberOfResults)return r.a.createElement(g,null);var e=this.props.searchResults.map(function(e,t){return r.a.createElement(b.a,{to:"/movie-search/movie/".concat(e.id),key:t},r.a.createElement("div",null,r.a.createElement("div",null,null===e.poster_path?r.a.createElement("img",{src:"https://secure.hmepowerweb.com/Resources/Images/NoImageAvailableLarge.jpg",alt:"no poster found"}):r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w1280/".concat(e.poster_path),alt:e.original_title})),r.a.createElement("h4",null,e.original_title),r.a.createElement("h5",null,e.release_date.substring(0,4))))});return r.a.createElement("section",{id:"results"},r.a.createElement("p",null,"Your search returned ".concat(this.props.numberOfResults," results.")),e)}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={searchResults:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getSearchResults",value:function(e){var t=this;this.setState({numberOfResults:0,searcherror:[]}),h.a.get("https://api.themoviedb.org/3/search/movie?api_key=8541c092938098d21b11f58a14dd114e&language=en&query=".concat(e)).then(function(e){t.setState({numberOfResults:e.data.total_results,searchResults:e.data.results,movieId:null,title:null,poster_path:null,backdrop_path:null,budget:null,revenue:null,genres:null,overview:null,tagline:null,release_date:null,runtime:null,cast:null,videos:null,recommendations:null,similarMovies:null})})}},{key:"getMoviesByGenre",value:function(e){var t=this;this.setState({numberOfResults:0}),h.a.get("https://api.themoviedb.org/3/discover/movie?api_key=8541c092938098d21b11f58a14dd114e&sort_by=vote_average.desc&include_adult=false&include_video=false&language=en-US&page=1&vote_count.gte=5000&with_genres=".concat(e)).then(function(e){t.setState({numberOfResults:e.data.total_results,searchResults:e.data.results,movieId:null,title:null,poster_path:null,backdrop_path:null,budget:null,revenue:null,genres:null,overview:null,tagline:null,release_date:null,runtime:null,cast:null,videos:null,recommendations:null,similarMovies:null})})}},{key:"getCastProfile",value:function(e){var t=this;this.setState({castName:null}),h.a.all([h.a.get("https://api.themoviedb.org/3/discover/movie?api_key=8541c092938098d21b11f58a14dd114e&language=en-US&sort_by=release_date.desc&include_adult=false&include_video=false&page=1&with_cast=".concat(e,"&with_original_language=en")),h.a.get("https://api.themoviedb.org/3/person/".concat(e,"?api_key=8541c092938098d21b11f58a14dd114e&language=en-US"))]).then(h.a.spread(function(e,a){t.setState({numberOfResults:e.data.total_results,filmography:e.data.results,castId:a.data.id,birthday:a.data.birthday,deathday:a.data.deathday,castName:a.data.name,bio:a.data.biography,castPhoto_path:a.data.profile_path})}))}},{key:"getMovieById",value:function(e){var t=this;this.setState({title:null}),h.a.all([h.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=8541c092938098d21b11f58a14dd114e&language=en-US")),h.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=8541c092938098d21b11f58a14dd114e&language=en-US")),h.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=8541c092938098d21b11f58a14dd114e&language=en-US")),h.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/similar?api_key=8541c092938098d21b11f58a14dd114e&language=en-US"))]).then(h.a.spread(function(e,a,n,r){t.setState({searchResults:[],movieId:e.data.id,title:e.data.original_title,poster_path:e.data.poster_path,backdrop_path:e.data.backdrop_path,budget:e.data.budget,revenue:e.data.revenue,genres:e.data.genres,overview:e.data.overview,tagline:e.data.tagline,release_date:e.data.release_date,runtime:e.data.runtime,cast:a.data.cast,videos:n.data.results,similarMovies:r.data.results})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchResults,n=t.numberOfResults,i=t.filmography;return r.a.createElement(d.a,null,r.a.createElement("main",{className:"App"},r.a.createElement(v.a,{path:"/movie-search",render:function(t){return r.a.createElement(_,Object.assign({onSearch:function(t){return e.getSearchResults(t)}},t))}}),r.a.createElement(v.a,{exact:!0,path:"/movie-search/results",render:function(t){return r.a.createElement(D,Object.assign({searchResults:a,numberOfResults:n,onSelectMovie:function(t){return e.getMovieById(t)}},t))}}),r.a.createElement(v.a,{exact:!0,path:"/movie-search/searcherror",component:M}),r.a.createElement(v.a,{exact:!0,path:"/movie-search/genre/:id-:name",render:function(t){return r.a.createElement(E,Object.assign({searchResults:a,numberOfResults:n,onMount:function(t){return e.getMoviesByGenre(t)}},t))}}),r.a.createElement(v.a,{exact:!0,path:"/movie-search/movie/:id",render:function(t){return r.a.createElement(S,Object.assign({data:e.state,id:e.state.movieId,onMount:function(t){return e.getMovieById(t)}},t))}}),r.a.createElement(v.a,{exact:!0,path:"/movie-search/cast/:id-:name",render:function(t){return r.a.createElement(f,Object.assign({filmography:i,bioData:e.state,onMount:function(t){return e.getCastProfile(t)}},t))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.20c570fe.chunk.js.map